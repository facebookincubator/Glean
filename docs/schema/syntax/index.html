<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Glean Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Glean Blog Atom Feed"><title data-react-helmet="true">Syntax | Glean</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Syntax | Glean"><meta data-react-helmet="true" name="description" content="Schemas are written in Glean&#x27;s Angle language."><meta data-react-helmet="true" property="og:description" content="Schemas are written in Glean&#x27;s Angle language."><meta data-react-helmet="true" property="og:url" content="https://glean.software/docs/schema/syntax"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://glean.software/docs/schema/syntax"><link rel="stylesheet" href="/styles.b813eb11.css">
<link rel="preload" href="/styles.e09754bf.js" as="script">
<link rel="preload" href="/runtime~main.a3268b2c.js" as="script">
<link rel="preload" href="/main.d925dd03.js" as="script">
<link rel="preload" href="/1.59982928.js" as="script">
<link rel="preload" href="/2.5fa3e0ee.js" as="script">
<link rel="preload" href="/3.88208a2f.js" as="script">
<link rel="preload" href="/1be78505.126bd22c.js" as="script">
<link rel="preload" href="/52.0116e487.js" as="script">
<link rel="preload" href="/935f2afb.ed8fbd3b.js" as="script">
<link rel="preload" href="/17896441.6e417407.js" as="script">
<link rel="preload" href="/f8f48583.030a53d6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">Glean</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/glean" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">Glean</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/facebookincubator/glean" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/trying">Trying Glean</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/building">Building Glean</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/walkthrough">Walkthrough</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Schemas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/basic">Basic Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/types">Built-in Types</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/schema/syntax">Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/recursion">Recursion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/changing">Changing a schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/workflow">Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/thrift">Thrift and JSON</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Querying</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/query/intro">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Angle</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/guide">Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/efficiency">Query Efficiency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/advanced">Advanced Query Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/reference">Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/angle/style">Style Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/query/api/haskell">Haskell</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/derived">Derived Predicates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/databases">Glean Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/write">Writing data to Glean</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running">Running the Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shell">Using the Shell</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server">Running the Glean Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli">The Glean CLI tool</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Syntax</h1></header><div class="markdown"><p>Schemas are written in Glean&#x27;s <strong>Angle</strong> language.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="named-schemas"></a>Named schemas<a class="hash-link" href="#named-schemas" title="Direct link to heading">#</a></h2><p>We usually create a new named schema for a family of related types and predicates. For example <code>hack</code> is the schema for facts about Hack code, <code>cxx</code> is the schema for facts about C/C++ and Objective C code, <code>java</code> is the schema for facts about Java code, and so on.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema java.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># your types and predicates go here</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>What does the .1 suffix mean?</strong> This is the <em>version</em> of the schema. You can later create <code>java.2</code> which adds and revises types and predicates in <code>java.1</code> without breaking existing clients that are using <code>java.1</code>.</p><p>The name of the schema will be also used as the <em>namespace</em> for the
generated Thrift types. You&#x27;ll notice that each schema gets a separate
generated <a href="/docs/schema/thrift">Thrift file</a> for working with the data in your code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="predicates"></a>Predicates<a class="hash-link" href="#predicates" title="Direct link to heading">#</a></h2><p>A predicate definition looks like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate P : KeyType -&gt; ValueType</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>where</p><ul><li><code>P</code> is the name of the predicate. e.g. <code>src.File</code></li><li><code>KeyType</code> is the <em>key type</em></li><li><code>ValueType</code> is the <em>value type</em></li></ul><p>For example, the example schema that we saw in the <a href="/docs/introduction">Introduction</a>
contains the <code>Class</code> predicate:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema example.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate Class :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     name : string,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     line : nat,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This defines:</p><ul><li>A predicate called <code>example.Class.1</code> (you can usually refer to it by its unversioned name, <code>example.Class</code>).</li><li>With a key type that is a record, consisting of<ul><li>a field <code>name</code>, that has type <code>string</code></li><li>a field <code>line</code>, of type <code>nat</code></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="referring-to-other-predicates"></a>Referring to other predicates<a class="hash-link" href="#referring-to-other-predicates" title="Direct link to heading">#</a></h2><p>A key feature of Glean is the ability to refer directly to other types
to build up nested structures.</p><p>To refer to a predicate defined in the same schema, we just use its
unqualified name:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema example.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate Class :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     name : string,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     line : nat,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate Parent :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     child : Class,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     parent : Class,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>We can also refer to predicates defined in other schemas, but we have
to bring them into scope using an <code>import</code> declaration.  For example,
the <code>src</code> schema contains a <code>File</code> predicate:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema src.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate File : string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If we want to extend our <code>Class</code> predicate with the file that contains
it, we can do it like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema example.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import src.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate Class :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     name : string,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     line : nat,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     file : src.File</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Note that to refer to a predicate from another schema, we have to
qualify it with the name of its schema, as in <code>src.File</code> above. We
don&#x27;t have to add the version though - there can only be one version
of any given predicate in scope at a time.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="named-types"></a>Named types<a class="hash-link" href="#named-types" title="Direct link to heading">#</a></h2><p>It&#x27;s useful to be able to name a type so that it can be used in multiple places. The form of a type definition is similar to a predicate:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">type &lt;name&gt; = &lt;type&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>For example, the <code>src</code> schema has a type for source locations:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-lang=python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema src.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate File : string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Common source code location type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type Loc = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  file : File,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  line : nat,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  column : nat,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Types cannot be recursive or mutually recursive. If you want a
recursive type, the cycle must go through at least one predicate. For
more details, see <a href="/docs/schema/recursion">Recursion</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="importing-and-inheriting"></a>Importing and inheriting<a class="hash-link" href="#importing-and-inheriting" title="Direct link to heading">#</a></h2><p>There are two ways for schemas to refer to each other:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="importing"></a>Importing<a class="hash-link" href="#importing" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema example.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import src.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The <code>import</code> declaration brings into scope all the predicates and
types defined by the named schema. Those predicates and types are
referred to by qualified names, e.g. <code>src.File</code> for the <code>File</code>
predicate defined by the schema <code>src</code>. The version number is dropped;
each schema exports a single version of a predicate or type, so the
unversioned name is unambiguous.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="inheritance-and-revising-schemas"></a>Inheritance and revising schemas<a class="hash-link" href="#inheritance-and-revising-schemas" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">schema example.2 : example.1 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">predicate Class :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       # new definition of Class</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Inheritance is useful for making changes to a schema by creating a new schema version:</p><ul><li>Inheriting from a schema brings into scope all the types and predicates of that schema, both qualified <em>and unqualified</em>.</li><li>The new schema also exports all the types and predicates defined in the schemas it inherits from, <em>except those that are re-defined</em>.</li></ul><p>Specifically, in the above example:</p><ul><li>We can <code>import example.2</code> anywhere and get all the predicates defined in <code>example.1</code>, except that we&#x27;ll get the new <code>Class</code> defined in <code>example.2</code>.</li><li>We can still <code>import example.1</code> and get the old version of the schema.</li></ul><p>Note that if you have predicates that depend on a predicate that was revised in this way, you must also copy those predicates to the new schema, because the existing predicates will refer to the old version of the predicate you revised. (In due course Glean will probably provide a convenient way to do this; in the meantime you have to copy &amp; paste. Not a big deal because you&#x27;ll usually delete the old one at some point, and you can&#x27;t modify it anyway.)</p><p>Named schemas can <em>not</em> form cycles through their <code>import</code> or
inheritance declarations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="naming-rules-and-conventions"></a>Naming rules and conventions<a class="hash-link" href="#naming-rules-and-conventions" title="Direct link to heading">#</a></h2><p>Names take the form of a dot-separated sequence of alphanumeric words. For example, <code>sys.Blob</code>, <code>clang.File</code>, or <code>cxx.objc.Name</code>. The words up to the last dot are the <em>namespace</em>, the final word is the <em>name</em>.</p><p>See <a href="/docs/angle/reference#names">Names</a> for full details.</p><p>Briefly:</p><ul><li>Namespaces (schema names) are dot-separated sequences of identifiers each beginning with a lower-case letter</li><li>Names and namespaces can contain only alphanumeric characters, &#x27;_&#x27;, or &#x27;.&#x27; (namespaces only)</li><li>There is a set of reserved words that can&#x27;t be used for names, e.g. <code>class</code>. Syncing the schema will fail with an error if you use a reserved word.</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/schema/types"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Built-in Types</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/schema/recursion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Recursion Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#named-schemas" class="table-of-contents__link">Named schemas</a></li><li><a href="#predicates" class="table-of-contents__link">Predicates</a></li><li><a href="#referring-to-other-predicates" class="table-of-contents__link">Referring to other predicates</a></li><li><a href="#named-types" class="table-of-contents__link">Named types</a></li><li><a href="#importing-and-inheriting" class="table-of-contents__link">Importing and inheriting</a><ul><li><a href="#importing" class="table-of-contents__link">Importing</a></li><li><a href="#inheritance-and-revising-schemas" class="table-of-contents__link">Inheritance and revising schemas</a></li></ul></li><li><a href="#naming-rules-and-conventions" class="table-of-contents__link">Naming rules and conventions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/fbOpenSource" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebookincubator/glean" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_31Aa"><img class="footer__logo" alt="Facebook Open Source Logo" src="/img/oss_logo.png"></a></div><div class="footer__copyright">Copyright Â© 2021 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.e09754bf.js"></script>
<script src="/runtime~main.a3268b2c.js"></script>
<script src="/main.d925dd03.js"></script>
<script src="/1.59982928.js"></script>
<script src="/2.5fa3e0ee.js"></script>
<script src="/3.88208a2f.js"></script>
<script src="/1be78505.126bd22c.js"></script>
<script src="/52.0116e487.js"></script>
<script src="/935f2afb.ed8fbd3b.js"></script>
<script src="/17896441.6e417407.js"></script>
<script src="/f8f48583.030a53d6.js"></script>
</body>
</html>